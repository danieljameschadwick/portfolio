generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["referentialIntegrity"]
}

datasource db {
  provider     = "mysql"
  url          = env("ORM_CLIENT_URL")
  relationMode = "prisma"
}

model Card {
  id           Int          @id @default(autoincrement())
  title        String
  cardType     String
  description  String       @db.Text
  displayOrder Int
  subTitle     String?
  imagePath    String?
  technologies Technology[]
  links        Link[]

  @@index([cardType])
}

model Technology {
  id          Int    @id @default(autoincrement())
  card        Card   @relation(fields: [cardId], references: [id])
  cardId      Int
  handle      String
  displayName String
}

model Link {
  id     Int    @id @default(autoincrement())
  card   Card   @relation(fields: [cardId], references: [id])
  cardId Int
  type   String
  text   String
  href   String
}
